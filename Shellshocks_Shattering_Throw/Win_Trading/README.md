## Win_Trading.ps1

### Overview
The win_trading.ps1 script is a CVE database that works with shellshocks_shattering_throw.ps1. It holds information about various CVEs and their respective scripts/exploits. The script can cross-reference the system output file (generated by shellshocks_shattering_throw.ps1) against known vulnerabilities in the win_trading.ps1 database and then download and execute the relevant exploits if vulnerabilities are found.

##
### Features
- Automated Download and Execution: If a CVE match is found in the output file, the script automatically downloads the exploit and executes it.
- Customizable Database: Easily add new CVEs and their corresponding exploits.
- Modular Execution: Each CVE has its own execution method defined, allowing for easy customization of how each exploit is handled.

##
### CVE Database Structure
The $cveDatabase array holds the list of CVEs, each with the following attributes:


- CVE: The CVE identifier (e.g., CVE-2021-34527).
- KB: The corresponding Microsoft Knowledge Base (KB) number (optional).
- DownloadURL: The URL where the exploit or patch can be downloaded.
- Filename: The name of the script that will be saved after downloading.
- ExecutionMethod: The method used to execute the exploit (e.g., "invoke", "module", or "custom").

### Example CVE Entry
```powershell
$cveDatabase = @(
    @{
        CVE = "CVE-2021-34527"; 
        KB = "KB5005010"; 
        DownloadURL = "https://example.com/exploits/cve-2021-34527.ps1"; 
        Filename = "cve-2021-34527.ps1"; 
        ExecutionMethod = "invoke"
    },
    @{
        CVE = "CVE-2021-1675"; 
        KB = "KB5003626"; 
        DownloadURL = "https://example.com/exploits/cve-2021-1675.ps1"; 
        Filename = "cve-2021-1675.ps1"; 
        ExecutionMethod = "invoke"
    }
)
```
##
### Usage
The win_trading.ps1 script is automatically called by shellshocks_shattering_throw.ps1 when it processes the system output file. It checks for vulnerabilities and, if matches are found in the CVE database, automatically downloads and executes the associated exploits.

##
### Instructions for Adding New Scripts to shellshocks_shattering_throw.ps1
### Step 1: Define the Tool Information
Each new tool or script needs to be defined in the $tools array. For each new tool, you will need to provide:

- Name: A descriptive name for the tool.
- URL: The URL where the tool can be downloaded.
- Filename: The name the tool should be saved as locally.
- Execution Method: The method used to run the script (e.g., "invoke" or "module").
- Command: If the script needs to invoke a specific command or function, include it here.

### Example Tool Entry
```powershell
Copy code
$tools = @(
    @{ Name = "Sherlock"; URL = "https://raw.githubusercontent.com/rasta-mouse/Sherlock/master/Sherlock.ps1"; Filename = "Sherlock.ps1"; Execute = "module"; Command = "Find-AllVulns" },
    @{ Name = "SuperTool"; URL = "https://example.com/supertool.ps1"; Filename = "supertool.ps1"; Execute = "invoke" }
)
```
### Step 2: Handle Special Execution Methods
If your new tool requires special handling (e.g., unzipping or running additional commands), you can modify the Run-Script function to accommodate this.

### Adding a Tool with Custom Handling
For tools that need to be extracted or have custom execution steps, add logic to the Run-Script function like so:

```powershell
Copy code
if ($toolConfig.Name -eq "SpecialTool") {
    Expand-Archive -Path "$ToolDownloadDir\$($toolConfig.Filename)" -DestinationPath "$ToolDownloadDir\SpecialTool"
    & "$ToolDownloadDir\SpecialTool\specialtool.ps1"
    Write-Host "SpecialTool completed." -ForegroundColor Green
}
```
### Step 3: Adding New CVEs to the win_trading.ps1 Database
Simply update the $cveDatabase array with the new CVE details, following the example provided earlier.

```powershell
Copy code
$cveDatabase = @(
    @{
        CVE = "CVE-2022-12345"; 
        KB = "KB123456"; 
        DownloadURL = "https://example.com/exploits/cve-2022-12345.ps1"; 
        Filename = "cve-2022-12345.ps1"; 
        ExecutionMethod = "invoke"
    }
)
```
##
### Conclusion
The shellshocks_shattering_throw and win_trading.ps1 scripts provide a powerful and flexible framework for performing security checks, vulnerability assessments, and privilege escalation on Windows systems. By following the detailed instructions provided, users can easily extend the script, add new tools, and manage their security analysis process with ease.
